<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.722 'Lato',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Lato',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}ul{margin-left:1.722rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.722rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;font-size:0.85rem;line-height:1.722rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;font-size:1rem;line-height:1.722rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}blockquote{margin-left:0;margin-right:1.722rem;margin-top:0;padding-bottom:0;padding-left:1.93725rem;padding-right:0;padding-top:0;margin-bottom:1.722rem;font-size:1.1487rem;line-height:1.722rem;color:hsla(0,0%,0%,0.59);border-left:0.64575rem solid;border-color:#612423;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.722rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.722rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.722rem;margin-bottom:calc(1.722rem / 2);margin-top:calc(1.722rem / 2);}li > ul{margin-left:1.722rem;margin-bottom:calc(1.722rem / 2);margin-top:calc(1.722rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.722rem / 2);}code{font-size:0.85rem;line-height:1.722rem;}kbd{font-size:0.85rem;line-height:1.722rem;}samp{font-size:0.85rem;line-height:1.722rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.148rem;padding-right:1.148rem;padding-top:0.861rem;padding-bottom:calc(0.861rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#4665b7;text-decoration:none;}a:hover,a:active{color:hsla(0,0%,0%,0.8);}h1,h2,h3,h4,h5,h6{margin-top:3.444rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.722rem;color:hsla(0,0%,0%,0.8);font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){blockquote{margin-left:-1.2915rem;margin-right:0;border-left:0.32288rem solid;border-color:#612423;padding-left:0.96862rem;}}</style><style data-href="/styles.43141b4598df0c2f6d03.css">footer{background-color:rgba(0,0,0,.9);padding:20px 0 40px;color:hsla(0,0%,100%,.7)}footer .Footer-module--container--3Dvn1{display:grid;grid-template-columns:50% 50%;margin-left:auto;margin-right:auto;max-width:50rem;padding:20px}footer a{color:#ddd;margin:10px}footer a:hover{color:#fff}footer .Footer-module--copyright--2uglW{text-align:right}header{display:flex;justify-content:space-between;align-items:center;padding:1rem;position:-webkit-sticky;position:sticky;top:0;background:hsla(0,0%,100%,.75);-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px);z-index:9;margin-left:auto;margin-right:auto;height:70px}header a{text-decoration:none;color:#3c4856;font-size:1.1rem;margin-top:0}header h1{margin-top:5px}header nav a{color:#757575;transition:color .2s ease;text-decoration:none;display:inline-block;position:relative;font-size:16px}header nav a:hover{color:#4f647d}header nav a strong{margin:1px;color:#4f647d;font-size:.8rem}header .Header-module--activeNav--25noA{color:#4f647d;font-weight:700}.Header-module--brand--nQIOf{margin-top:40px;display:flex;flex-direction:row;flex-wrap:wrap}.Header-module--main-nav--2C0n8{display:flex;list-style:none;padding:0;margin-top:30px;overflow:auto;overflow:-moz-scrollbars-none;scrollbar-width:none;-ms-overflow-style:none!important}.Header-module--main-nav--2C0n8::-webkit-scrollbar{width:0!important}.Header-module--main-nav--2C0n8 li{font-size:1.3rem}.Header-module--main-nav--2C0n8 li+li{margin-left:1.5rem}@media (max-width:1000px){header{display:block;height:120px}.Header-module--brand--nQIOf{margin-top:0;margin-bottom:0}nav{margin-top:-50px}nav ul{margin:0}}@media (max-width:768px){header strong{display:none}.Header-module--main-nav--2C0n8 li+li{margin-left:1rem}}@media (max-width:520px){header nav a{font-size:.7rem;border:1px solid #eee;padding:2px;border-radius:5px}}body{margin:0;background:#fafbfb}h1,h2,h3,h4,h5,h6{margin-top:1rem}main{margin-left:auto;margin-right:auto;max-width:50rem;display:flex;flex-direction:column;min-height:100vh;padding:20px}article{height:90%}article:hover{box-shadow:0 11px 22px 12px #eee;border-radius:5px}.PostsListing-module--article-list--3ReSK{display:grid;grid-template-columns:50% 50%}.PostsListing-module--article-list--3ReSK .PostsListing-module--article-box--3M6_I{margin-bottom:30px;display:inline-block;width:auto;transition:all .25s ease}.PostsListing-module--article-list--3ReSK .PostsListing-module--article-box--3M6_I:hover{cursor:pointer}.PostsListing-module--article-list--3ReSK .PostsListing-module--article-box--3M6_I .PostsListing-module--right--2MxCO{padding:15px;color:#3c4856;margin-top:-20px}.PostsListing-module--article-list--3ReSK .PostsListing-module--article-box--3M6_I .PostsListing-module--right--2MxCO .PostsListing-module--meta--3cFzL{margin-top:-15px;margin-bottom:20px;font-size:.7rem}@media (max-width:768px){.PostsListing-module--article-list--3ReSK{grid-template-columns:100%}}.pill{display:inline-block;height:24px;padding:0 10px;margin-left:5px;margin-right:5px;margin-bottom:10px;color:#929fb3;text-transform:uppercase;font-size:12px;line-height:22px;border-radius:2px;border:1px solid}.projects{text-align:center}.project-box{float:left;width:50%;padding:20px}@media (max-width:600px){.project-box{width:100%}}.Bio-module--avatar--v_AB0{border-radius:50%;width:70px;float:left;margin:5px 20px}.PostTags-module--tag-container--ksSgQ a{text-decoration:none;display:inline-grid}.PostTags-module--tag-container--ksSgQ span{font-size:.8rem;font-weight:500;padding:.3rem .6rem;margin:.3rem;border-radius:3px;background:rgba(141,154,169,.21);color:rgba(0,0,0,.54)}.SocialLinks-module--social-links--1RDpJ{position:fixed;top:100px;left:30px;flex-direction:row;flex-wrap:wrap;justify-content:center;align-content:center;align-items:center;margin:15px 0}.SocialLinks-module--social-links--1RDpJ div{margin:5px 15px;cursor:pointer}.SocialLinks-module--share-count--3wXKp{text-align:center}@media (max-width:1200px){.SocialLinks-module--social-links--1RDpJ{position:relative;top:0}.SocialLinks-module--social-links--1RDpJ div{display:inline-grid;position:relative}}.post-module--post-meta--1ci95{color:#757575;margin-bottom:.5rem;font-size:.7rem}.post-module--pagination--1F-V0{display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0;margin-top:4rem}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><title data-react-helmet="true">Migrating towards Yarn and Webpack | Wingify Engineering</title><link data-react-helmet="true" rel="icon" type="image/png" href="/images/favicon.png"/><meta data-react-helmet="true" name="description" content="For the past couple of years, we have been using require.js for module loading and Grunt for automating tasks on front-end, for one out of…"/><meta data-react-helmet="true" name="image" content=""/><meta data-react-helmet="true" property="og:url" content="https://engineering.wingify.com//posts/migrating-towards-yarn-webpack/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Migrating towards Yarn and Webpack"/><meta data-react-helmet="true" property="og:description" content="For the past couple of years, we have been using require.js for module loading and Grunt for automating tasks on front-end, for one out of…"/><meta data-react-helmet="true" property="og:image" content=""/><meta data-react-helmet="true" property="fb:app_id" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="wingify_engg"/><meta data-react-helmet="true" name="twitter:title" content="Migrating towards Yarn and Webpack"/><meta data-react-helmet="true" name="twitter:description" content="For the past couple of years, we have been using require.js for module loading and Grunt for automating tasks on front-end, for one out of…"/><meta data-react-helmet="true" name="twitter:image" content=""/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://engineering.wingify.com/","name":"Migrating towards Yarn and Webpack","alternateName":"Wingify Engineering - Blog"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://engineering.wingify.com//posts/migrating-towards-yarn-webpack/","name":"Migrating towards Yarn and Webpack","image":""}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://engineering.wingify.com/","name":"Migrating towards Yarn and Webpack","alternateName":"Wingify Engineering - Blog","headline":"Migrating towards Yarn and Webpack","image":{"@type":"ImageObject","url":""},"description":"For the past couple of years, we have been using require.js for module loading and Grunt for automating tasks on front-end, for one out of…"}]</script><meta name="generator" content="Gatsby 2.22.11"/><link href="//fonts.googleapis.com/css?family=Neuton:700|Lato:400,400i,700" rel="stylesheet" type="text/css"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#c62828"/><link rel="apple-touch-icon" sizes="48x48" href="/images/favicon.png"/><link rel="alternate" type="application/rss+xml" title="/atom.xml" href="/atom.xml"/><link as="script" rel="preload" href="/framework-59a9ef51c55d9b62f7de.js"/><link as="script" rel="preload" href="/29107295-b32bd7b51275495551b1.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-64b7798af3e4c1e61db7.js"/><link as="script" rel="preload" href="/b1ea62611cf241fb890da72ef73a515c02a0750b-89441ba0b45d1db32094.js"/><link as="script" rel="preload" href="/app-2e9de3d453e820061555.js"/><link as="script" rel="preload" href="/styles-823ae8103e36ae8a7f9f.js"/><link as="script" rel="preload" href="/webpack-runtime-0957571b9c2c963ddd9b.js"/><link as="fetch" rel="preload" href="/page-data/posts/migrating-towards-yarn-webpack/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header><h1><a href="/"><span class="Header-module--brand--nQIOf"><img src="https://wingify.com/wp-content/themes/wingify/images/labs/engg_blog.png" width="30px"/><span style="margin-top:5px;margin-left:15px">Wingify Engineering</span></span></a></h1><nav><ul class="Header-module--main-nav--2C0n8"><li><a href="/">Posts</a></li><li><a href="/labs">Labs</a></li><li><a href="/about">About</a></li><li><a href="https://github.com/wingify">Github</a></li><li><a href="/atom.xml">Feed</a></li></ul></nav></header><main><div><h1>Migrating towards Yarn and Webpack</h1><img class="Bio-module--avatar--v_AB0" src="/images/team/varun_malhotra.png" alt="Varun Malhotra"/><p>Written by <strong>Varun Malhotra</strong> <div></div></p><p class="post-module--post-meta--1ci95">October 03, 2017<!-- --> — <!-- -->21<!-- --> Min Read<!-- --> <!-- --> |  <span class="disqus-comment-count" data-disqus-url="https://engineering.wingify.com/posts/migrating-towards-yarn-webpack/">...</span></p><div><p><img src="/images/2017/10/migrating-towards-yarn-webpack-header.jpg"></p>
<p>For the past couple of years, we have been using <a href="http://requirejs.org/">require.js</a> for module loading and <a href="https://gruntjs.com/">Grunt</a> for automating tasks on front-end, for one out of many projects we have in Wingify. The project has a huge code-base and has many independent components inside it with some shared utilities. Also, there was no concrete build system which could be scaled upon adding new components.</p>
<p><strong>Require.js</strong> was being used for good code-structuring, managing modules and their loading. All the different modules were having their own <code class="language-text">require-config.js</code> file to define rules for a particular module.</p>
<p><strong>Grunt</strong> was being used for automating different tasks required to speed up mundane work. We had a number of tasks like the <a href="https://github.com/gfranko/amdclean">require-amdclean</a> task, concatenating different script / CSS files, minification of files, cache-busting mechanism and so on.</p>
<p>Following are some benefits we were getting from the <code class="language-text">require-amdclean</code> task:</p>
<ul>
<li>We didn't have to include <code class="language-text">require.js</code> in production, thus, saving some bytes.</li>
<li>Generation of single js file entirely in Vanilla JavaScript.</li>
<li>Get rid of file size/source code readability concerns.</li>
<li>It was a great fit to be used as a standalone Javascript library, which is exactly our case.</li>
</ul>
<p>Everything was working as expected but maintenance, performance, and scale were the issues. We had so many healthy discussions regarding improving things and thus we thought of upgrading our tech stack too. Also, as I mentioned we didn't have a concrete build system; it was the right time to investigate further. We were ready to spend some quality time in researching technologies which could fit in our build system. <a href="https://twitter.com/gauravmuk">Gaurav Nanda</a> and I took a break from our daily chores and read many articles/blogs and the <em>not-so-useful</em> official docs to get a good command over various technologies. Migrating from <code class="language-text">Grunt</code> to <code class="language-text">Gulp</code> wasn't helping us since build time was nearly the same. The task which took a lot of time was the <code class="language-text">require-amdclean</code> task, taking around <code class="language-text">10 seconds</code> even for adding just a single character like <code class="language-text">;</code> while working in the development environment.</p>
<h3 id="migrating-from-npm-to-yarn---first-step-towards-a-new-journey" style="position:relative;"><a href="#migrating-from-npm-to-yarn---first-step-towards-a-new-journey" aria-label="migrating from npm to yarn   first step towards a new journey permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Migrating from NPM to Yarn - First step towards a new journey</h3>
<p>After reading about <a href="https://yarnpkg.com/en/">Yarn</a>, the team was really curious to play with this yet new package manager aka dependency manager. When we benchmarked the results, we were literally stunned by the time difference between NPM and Yarn in fetching up resources. Yarn achieves this speed by introducing parallelism and its performance and security via maintaining a <code class="language-text">yarn.lock</code> file.</p>
<p>For a total of <code class="language-text">34</code> packages in total, the following stats would please your eyes too :)</p>
<blockquote>
<p>yarn@1.0.2
npm@3.10.10</p>
</blockquote>
<h4 id="stats-when-we-did-a-fresh-install" style="position:relative;"><a href="#stats-when-we-did-a-fresh-install" aria-label="stats when we did a fresh install permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Stats when we did a Fresh Install</h4>
<table>
<thead>
<tr>
<th>Package manager</th>
<th>Time taken</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">npm</code></td>
<td><strong>3 minutes 12 seconds</strong></td>
</tr>
<tr>
<td><code class="language-text">yarn</code> <em>(without yarn.lock file)</em></td>
<td><strong>1 minute 33 seconds</strong></td>
</tr>
<tr>
<td><code class="language-text">yarn</code> <em>(with yarn.lock file)</em></td>
<td><strong>16 seconds</strong></td>
</tr>
</tbody>
</table>
<h4 id="running-the-commands-with-already-installed-packages" style="position:relative;"><a href="#running-the-commands-with-already-installed-packages" aria-label="running the commands with already installed packages permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Running the commands with already installed packages</h4>
<table>
<thead>
<tr>
<th>Package manager</th>
<th>Time taken</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">npm</code></td>
<td><strong>7 seconds</strong></td>
</tr>
<tr>
<td><code class="language-text">yarn</code> <em>(with yarn.lock file)</em></td>
<td><strong>6 seconds</strong></td>
</tr>
</tbody>
</table>
<p><img src="/images/2017/10/migrating-towards-yarn-webpack-benchmark.png"></p>
<p>Yarn offers a lot more besides its fast speed, security, and reliability. Check <a href="https://yarnpkg.com/en/docs/cli/">these</a> commands Yarn offers.</p>
<p>Since we were using <a href="(%20https://bower.io/)">bower</a> too, our first step was to port all the dependencies and dev-dependencies listed in our <code class="language-text">bower.json</code> file to <code class="language-text">package.json</code>. This was a time-consuming task since we had a huge list of packages. After successful porting of packages and validating the version numbers with the previous packages, we were all set to switch to Yarn. This also helped in keeping just one file for managing packages. We are no longer using bower. Even bower's <a href="https://bower.io/">official site</a> recommends using Yarn and Webpack :)</p>
<h3 id="why-switch-to-webpack-2" style="position:relative;"><a href="#why-switch-to-webpack-2" aria-label="why switch to webpack 2 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why switch to Webpack 2</h3>
<p>It wasn't an easy task to accomplish since Webpack is a module bundler rather than a task runner. We were so accustomed to using task runners along with the old-fashioned <code class="language-text">require.js</code> based module management that it took a good amount of time figuring out how to proceed with our mini-app's new build system.</p>
<p>Apart from the numerous benefits of using Webpack, the most notable features, especially for our codebase and the build system, were:</p>
<ol>
<li>Easy integration with <code class="language-text">npm</code>/<code class="language-text">yarn</code> and seamless handling of multiple module formats. We now use two of its kind, one is <code class="language-text">UMD</code> and the other one is <code class="language-text">this</code> target option (we have such a requirement).</li>
<li>Single main entry and one single bundled output - exactly what we needed.</li>
<li>Cache busting(hashing) - Very very easy to implement and get benefitted.</li>
<li>Building different, independent, and standalone modules simultaneously. Thanks to <a href="https://github.com/trivago/parallel-webpack">parallel-webpack</a>!</li>
<li>
<p>Using webpack-loaders -</p>
<ul>
<li><a href="https://github.com/babel/babel-loader">babel-loader</a> - so that we could start writing <code class="language-text">ES6</code> compatible code even with our <code class="language-text">require.js</code> module management system.</li>
<li><a href="https://github.com/MoOx/eslint-loader">eslint-loader</a> - which allows identifying and reporting on patterns found in ECMAScript/JavaScript code</li>
<li><a href="https://github.com/webpack-contrib/css-loader">css-loader</a> - for bundling CSS</li>
</ul>
</li>
</ol>
<h3 id="converting-to-webpack-2---a-transcendent-journey-ahead" style="position:relative;"><a href="#converting-to-webpack-2---a-transcendent-journey-ahead" aria-label="converting to webpack 2   a transcendent journey ahead permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Converting to Webpack 2 - A transcendent journey ahead</h3>
<p>In the beginning, it looked like just porting the <code class="language-text">require.js</code> configuration to Webpack and we're done. A big NO! This thought was absolutely wrong. There were so many scenarios we had to deal with. We will discuss this in detail as we move along.</p>
<p>First thing first, a clear understanding of what exactly Webpack is and how does it bundle the modules are must. Simply copy-pasting the configuration file from the official website and tweaking it won't help in a long run. One must be very clear regarding the fundamentals on which Webpack is built upon.</p>
<p>Problems which we needed to tackle were:</p>
<ol>
<li>Different modules in the same app, having different configuration files.</li>
<li>Webpack config should be modular in itself and be able to run multiple configs at once so that we should be able to add/remove a new module easily without affecting any existing one.</li>
</ol>
<h4 id="installing-webpack" style="position:relative;"><a href="#installing-webpack" aria-label="installing webpack permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installing Webpack</h4>
<p><strong>Via Yarn</strong> <em>(recommended)</em></p>
<p>{% highlight js %}
yarn add --dev webpack
{% endhighlight %}</p>
<p><strong>Via NPM</strong></p>
<p>{% highlight js %}
npm install webpack --save-dev
{% endhighlight %}</p>
<p><strong>Configuration</strong> -</p>
<p>A basic configuration file looks like:</p>
<p>{% highlight js %}
// Filename: webpack.config.js</p>
<p>const path = require('path');
const webpack = require('webpack');
module.exports = {
context: path.resolve(<strong>dirname, 'src'),
entry: {
app: './app.js',
},
output: {
path: path.resolve(</strong>dirname, 'dist'),
filename: '[name].bundle.js',
},
};
{% endhighlight %}</p>
<p>Check <a href="https://webpack.js.org/configuration/#options">this</a> for knowing the role of each key.</p>
<p>Since we needed to support different modules we had to have different config files for each of our module.</p>
<p>{% highlight js %}
// Filename webpack.config.js</p>
<p>/**</p>
<ul>
<li>Method to return a desired config with the necessary options</li>
<li>@param  {Object} options</li>
<li>@return {Object} - Desired config Object as per webpack 2 docs
*/
function executeWebpackConfig(options) {
return {
devtool: options.devtool === '' ? options.devtool : 'source-map',
entry: options.entry,
output: options.output,
module: options.module,
resolve: options.resolve,
plugins: options.plugins || []
};
}</li>
</ul>
<p>// Add/remove different modules' corresponding config files
let multipleConfigs = [
// For building single bundled JS file
require('./build/module-A/webpack.main'),
// Corresponding bundled CSS file
require('./build/module-A/webpack.main.assets'),</p>
<p>  require('./build/module-B/webpack.main'),
require('./build/module-B/webpack.main.assets'),</p>
<p>  require('./build/module-C/webpack.main'),</p>
<p>  require('./build/module-D/webpack.main'),
require('./build/module-D/webpack-main.assets')
];</p>
<p>multipleConfigs.map((config) => {
return executeWebpackConfig(config);
});</p>
<p>module.exports = multipleConfigs;
{% endhighlight %}</p>
<p>The above configuration is capable of handling <code class="language-text">n</code> number of modules. Different modules will have at least one bundled JS file as the output. But we also needed to have a bundled CSS file corresponding to each module. So, we decided to have two different config files for every module which has both JS and CSS bundling, one for bundling JS and other for managing assets and bundling CSS files. Tasks like copying files from src to dist, updating the JS file name with a cache-busting hash(prod build) in the index.html file and so on were taken care of inside the assets config file.</p>
<p>The above-mentioned break-down of a module into JS and CSS bundling helped us in having a clean, modular, and scalable approach for our new build system.
We also used parallel-webpack to speed up our build by running independent modules in parallel. But be very careful using it, since it spawns a new thread for each different task, which basically uses the different cores of a machine to process. Also, there should be a cap on the number of parallel-tasks to prevent overshooting of CPU usage.</p>
<h3 id="extraction-of-common-stuff-for-reusability-and-maintainability" style="position:relative;"><a href="#extraction-of-common-stuff-for-reusability-and-maintainability" aria-label="extraction of common stuff for reusability and maintainability permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extraction of common stuff for reusability and maintainability</h3>
<p>Let's discuss Webpack <code class="language-text">module-rules</code> and <code class="language-text">resolve-aliases</code> which play a significant role, before advancing further with the creation of common webpack-configuration helper methods.</p>
<p><strong><code class="language-text">module rules</code></strong> - Create aliases to import or require certain modules more easily. This basically tells how to read a module and to use it.</p>
<p>We used <code class="language-text">expose-loader</code> and <code class="language-text">imports-loader</code> depending on the use-case.</p>
<p><a href="https://github.com/webpack-contrib/expose-loader">expose-loader</a> - adds modules to the global object. This is useful for debugging or supporting libraries that depend on libraries in globals.</p>
<p><a href="https://github.com/webpack-contrib/imports-loader">imports-loader</a> - is useful for third-party modules that rely on global variables like $ or this being the window object. The imports loader can add the necessary require('whatever') calls, so those modules work with Webpack.</p>
<p>This is an obvious thing that we had same third-party libraries, wrappers over external libraries, and self-baked useful utilities shared across different modules. This means that our module-specific webpack config file would have the same set of repeated rules and aliases. Code duplication might seem a good fit here for readability but is really painful to maintain in a long run.</p>
<p>Let's discuss how we managed to share the common module rules and resolve aliases across the different modules.</p>
<p>Below is a generic utility file’s code which has two methods. One outputs whether a passed argument is an Object and the other one outputs whether it’s an array.</p>
<p>{% highlight js %}
// Filename: GenericUtils.js</p>
<p>module.exports = {
isObject: function (obj) {
return Object.prototype.toString.call(obj) === '[object Object]';
},
isArray: function (arr) {
return Object.prototype.toString.call(arr) === '[object Array]';
}
};
{% endhighlight %}</p>
<p>Here's a list of common rules and aliases defined explicitly in a separate file.</p>
<p>{% highlight js %}
// Filename: webpack.common-module-rules-and-alias.js</p>
<p>const path = require('path');
let basePath = path.join(__dirname, '/../');</p>
<p>module.exports = {
alias: {
// Common thrid-party libraries being used in different modules
'pubSub': basePath + 'node<em>modules/pubsub/dist/ba-tiny-pubsub.min',
'select2': basePath + 'node</em>modules/select2/dist/js/select2.full.min',
'acrossTabs': basePath + 'node_modules/across-tabs/dist/across-tabs.this',
// ....more</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">    // Common self-baked utilities
    &#39;utils&#39;: &#39;lib/player/utils&#39;,
    &#39;storage&#39;: &#39;lib/player/storage&#39;,
    // ....more

    // Common services
    &#39;auth&#39;: &#39;lib/Auth&#39;,
    &#39;gaUtils&#39;: &#39;lib/GAUtils&#39;,
    &#39;DOMUtils&#39;: &#39;lib/DOMUtils&#39;,
    &#39;arrayUtils&#39;: &#39;lib/ArrayUtils&#39;,
    // ....more

    // Common constants
    &#39;AnalyticsEventEnum&#39;: &#39;lib/constants/AnalyticsEventEnum&#39;,
    &#39;MapTypeEnum&#39;: &#39;lib/constants/MapTypeEnum&#39;,
    &#39;segmentAnalyticsUtils&#39;: &#39;lib/analytics/SegmentAnalyticsUtils&#39;,
    // ....more
},

rules: [
    { test: /jQuery/, loader: &#39;expose-loader?$&#39; },
    { test: /pubSub/, loader: &#39;expose-loader?pubSub!imports-loader?jQuery&#39; },
    { test: /select2/, loader: &#39;expose-loader?select2!imports-loader?jQuery&#39; },
    { test: /acrossTabs/, loader: &#39;expose-loader?AcrossTabs&#39; },
    // ....more

    { test: /utils/, loader: &#39;expose-loader?utils&#39; },
    { test: /storage/, loader: &#39;expose-loader?storage&#39; },
    // ....more

    { test: /auth/, loader: &#39;expose-loader?auth&#39; },
    { test: /gaUtils/, loader: &#39;expose-loader?gaUtils&#39; },
    { test: /DOMUtils/, loader: &#39;expose-loader?DOMUtils&#39; },
    { test: /arrayUtils/, loader: &#39;expose-loader?arrayUtils&#39; },
    // ....more

    { test: /AnalyticsEventEnum/, loader: &#39;expose-loader?AnalyticsEventEnum&#39; },
    { test: /MapTypeEnum/, loader: &#39;expose-loader?MapTypeEnum&#39; },
    { test: /segmentAnalyticsUtils/, loader: &#39;expose-loader?segmentAnalyticsUtils&#39; },
    // ....more
]</code></pre></div>
<p>};
{% endhighlight %}</p>
<p>We now had a common file where we could easily add/update/remove any rule and its corresponding alias. Now we needed to have a utility which combines the common rules and aliases with the already defined rules and aliases in a particular modules' config file.</p>
<p>{% highlight js %}
// Filename: rulesAndAliasUtil.js</p>
<p>const moduleRulesAndAlias = require('./webpack.common-module-rules-and-alias');
const genericUtil = require('./genericUtil');</p>
<p>module.exports = {
mergeRulesAndUpdate: function(testRules, config) {
if (testRules &#x26;&#x26; config &#x26;&#x26; config.module &#x26;&#x26; config.module.rules &#x26;&#x26;
genericUtil.isObject(config) &#x26;&#x26;
genericUtil.isArray(testRules)
) {
testRules.concat(moduleRulesAndAlias.rules);
for (let i = 0; i &#x3C; testRules.length; i++) {
config.module.rules.push(testRules[i]);
}</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">        return config;
    }
    return config;
},
mergeAliasAndUpdate: function (aliases, config) {
    if (aliases &amp;&amp; config &amp;&amp; config.resolve &amp;&amp;
        genericUtil.isObject(aliases) &amp;&amp; genericUtil.isObject(config)
    ) {
        let allAliases = Object.assign(aliases, moduleRulesAndAlias.alias);

        config.resolve.alias = allAliases;
        return config;
    }

    return config;
}</code></pre></div>
<p>};
{% endhighlight %}</p>
<p>Time to write our module specific config file. We'll demonstrate just one config file i.e. for moduleA and the others would look exactly the same except the options' value as per module.</p>
<p>Here's the full webpack config file for <code class="language-text">moduleA</code>.</p>
<p>{% highlight js %}
// Filename: webpack.moduleA.js</p>
<p>const path = require('path');
const webpack = require('webpack');
const env = require('./../webpack.env').env; // Just to get the env(dev/prod), discussed in detail later</p>
<p>const rulesAndAliasUtil = require('./utils/rulesAndAliasUtil');</p>
<p>let basePath = path.join(_<em>dirname, '/../');
let config = {
// Entry, file to be bundled
entry: {
'moduleA': basePath + 'src/path/to/moduleA-entry.js',
},
devtool: env === 'build' ? 'source-map' : false,
output: {
// Output directory
path: basePath + 'dist/moduleA',
library: '[name]',
// [hash:6] with add a SHA based on file changes if the env is build
filename: env === EnvEnum.BUILD ? '[name]-[hash:6].min.js' : '[name].min.js',
libraryTarget: 'umd',
umdNamedDefine: true
},
module: {
rules: []
},
resolve: {
alias: {},
modules: [
// Files path which will be referenced while bundling
basePath + 'src',
basePath + 'node</em>modules',
],
extensions: ['.js'] // File types
},
plugins: []
};</p>
<p>// Following requirejs format - define how will they be exposed(via expose-loader or exports-loader) and their dependenices(via imports-loader)
let testRules = [
{ test: /jQuery/, loader: 'expose-loader?$' },
{ test: /base64/, loader: 'exports-loader?Base64' },
{ test: /ModuleSpecificEnum/, loader: 'expose-loader?ModuleSpecificEnum' }
];</p>
<p>// Following requirejs format - define the paths of the libs/constants/vendor specific to this moduleA only
let moduleAlias = {
'jQuery': 'moduleA/vendor/jquery-3.1.0',
'base64': 'moduleA/vendor/base64',
'ModuleSpecificEnum': 'moduleA/constants/ModuleSpecificEnum'
}</p>
<p>config = rulesAndAliasUtil.mergeRulesAndUpdate(testRules, config);
config = rulesAndAliasUtil.mergeAliasAndUpdate(moduleAlias, config);</p>
<p>module.exports = config;
{% endhighlight %}</p>
<p>This is a complete webpack config file for bundling JS file for <code class="language-text">moduleA</code>. While configuring it, we defined different options, each one has its own purpose. To know more about each option, please refer <a href="https://webpack.js.org/configuration/#options">this</a>.</p>
<h4 id="webpack-loaders" style="position:relative;"><a href="#webpack-loaders" aria-label="webpack loaders permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Webpack loaders</h4>
<p>Webpack enables the use of loaders to preprocess files. This allows us to bundle any static resource way beyond JavaScript.</p>
<p>We introduced two loaders for bundling JS resources inside our app.</p>
<ol>
<li><a href="https://github.com/babel/babel-loader">babel-loader</a> - This package allows transpiling JavaScript files using Babel and Webpack. Thanks to babel-loader as we are fearlessly writing ES6 code and updating our mundane code.</li>
<li><a href="https://github.com/MoOx/eslint-loader">eslint-loader</a> - This package allows identifying and reporting on patterns found in ECMAScript/JavaScript code.</li>
</ol>
<p>Since we needed these two loaders for all our modules, we defined them in the same file we discussed earlier - <code class="language-text">rulesAndAliasUtil.js</code></p>
<p>{% highlight js %}
// Filename: rulesAndAliasUtil.js</p>
<p>let defaultLoaders = [{
enforce: 'pre', // to check source files, not modified by other loaders (like babel-loader)
test: /(.js)$/,
exclude: /(node<em>modules|moduleA/vendor|moduleB/lib/lodash-template.min.js)/,
use: {
loader: 'eslint-loader',
options: {
emitError: true,
emitWarning: true,
failOnWarning: true, // will not allow webpack to build if eslint warns
failOnError: true // will not allow webpack to build if eslint fails
}
}
}, {
test: /(.js)$/,
exclude: /(node</em>modules)/,
use: {
// babel-loader to convert ES6 code to ES5
loader: 'babel-loader',
options: {
presets: ['env'],
plugins: []
}
}
}];
{% endhighlight %}</p>
<p>And updating the method: <code class="language-text">mergeRulesAndUpdate</code> as follows</p>
<p>{% highlight js %}
mergeRulesAndUpdate: function(testRules, config) {
if (testRules &#x26;&#x26; config &#x26;&#x26; config.module &#x26;&#x26; config.module.rules &#x26;&#x26;
genericUtil.isObject(config) &#x26;&#x26;
genericUtil.isArray(testRules)
) {
testRules.concat(moduleRulesAndAlias.rules);
for (let i = 0; i &#x3C; testRules.length; i++) {
config.module.rules.push(testRules[i]);
}</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">    // Default babel-loader and eslint-loader for all js-modules
    config.module.rules = config.module.rules.concat(defaultLoaders);

    return config;
}
return config;</code></pre></div>
<p>}
{% endhighlight %}</p>
<p>This was all about bundling of JS modules. The same approach was followed for different modules. Now we were left with the bundling of our CSS files and the obvious chores like copying, replacing, etc.</p>
<h3 id="webpack-bundling-of-css-files" style="position:relative;"><a href="#webpack-bundling-of-css-files" aria-label="webpack bundling of css files permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Webpack Bundling of CSS files</h3>
<p>{% highlight js %}
// Filename: webpack.moduleA.assets.js</p>
<p>const fs = require('fs');
const path = require('path');
const glob = require('glob-all');
const env = require('./../webpack.env').env;
const EnvEnum = require('./../constants/Enums').EnvEnum;</p>
<p>// To remove unused css
const PurifyCSSPlugin = require('purifycss-webpack');
// Copy Assests to dist
const CopyWebpackPlugin = require('copy-webpack-plugin');
// To generate a file in JSON format so that the hash appended can be later read by another file like one css file is used in multiple files so its hash needs to be stored somewhere to be read so that it can be replaced in corresponding <code class="language-text">index.html</code> files
const ManifestPlugin = require('webpack-manifest-plugin');
const CleanWebpackPlugin = require('clean-webpack-plugin');
// For combining multiple css files
const ExtractTextPlugin = require('extract-text-webpack-plugin')
// Minify css files for env=build
const OptimizeCssAssetsPlugin = require('optimize-css-assets-webpack-plugin');</p>
<p>// Replace filename if env=build since hash is appended for cache bursting
const replacePlugin = require('./../utils/webpack.custom-string-replace.plugin');</p>
<p>let buildPlugins = [];
let basePath = path.join(__dirname, '/../');</p>
<p>if (env === 'build') {
// minify css files if env is build i.e. production
buildPlugins.push(new OptimizeCssAssetsPlugin({
cssProcessorOptions: {
safe: true
}
}));
}</p>
<p>module.exports = {
// Entry, files to be bundled separately
entry: {
'css-file-1': [
basePath + 'src/styles/canvas/common.css',
basePath + 'src/styles/canvas/mobile.css',
basePath + 'src/styles/canvas/main.css'
],
'css-file-2': [
basePath + 'src/styles/app.css',
basePath + 'src/styles/player/player.css',
basePath + 'src/styles/mobile.css',
basePath + 'node_modules/select2/dist/css/select2.min.css'
]
},
devtool: '',
output: {
// Output directory
path: basePath + 'dist/styles/',
// [hash:6] with add a SHA based on file changes if the env is build
filename: env === 'build' ? '[name]-[hash:6].min.css' : '[name].min.css'
},
// Rules for bundling
module: {
rules: [{
test: /.css$/i,
use: ExtractTextPlugin.extract({
use: [{
loader: 'css-loader',
options: {
// ExtractTextPlugin tries to process url like in backgroun-image, url(), etc. We need to stop that behavior so we need this option
url: false
}
}]
})
}]
},
resolve: {
alias: {},
modules: [],
extensions: ['.css'] // only for css file
},
plugins: [
// Cleaning specific folder, maintaining other modules dist intact
new CleanWebpackPlugin([basePath + 'dist/styles'], {
root: basePath
}),
// File to generated to read hash later on
new ManifestPlugin({
fileName: 'manifest.json'
}),
// Copy css/images file(s) to dist
new CopyWebpackPlugin([{
from: basePath + 'src/images',
to: basePath + 'dist/images/'
}]),
// Bundling of entry files
new ExtractTextPlugin(env === 'build' ? '[name]-[hash:6].min.css' : '[name].min.css'),
// To remove unused CSS by looking in corresponding html files
new PurifyCSSPlugin({
// Give paths to parse for rules. These should be absolute!
paths: glob.sync([
path.join(basePath, 'src/moduleA/<em>.html'),
path.join(basePath, 'src/moduleA/canBeAnyFile.js'),
path.join(basePath, 'src/moduleB/</em>.html'),
path.join(basePath, 'src/moduleC/*.js')
]),
purifyOptions: {
whitelist: [ '<em>select2-</em>' ] // If classes are added on run-time, then based on the pattern, we can whitelist them, to be always included in our final bundled CSS file
}
})
].concat(buildPlugins)
};
{% endhighlight %}</p>
<p>The above configuration outputs two bundled CSS files i.e. <code class="language-text">css-file-1.min.css</code> &#x26; <code class="language-text">css-file.min.css</code>, and <code class="language-text">css-file-1-8fb1ed.min.css</code> &#x26; <code class="language-text">css-file-2-6ed3c1.min.css</code> if it's a prod build.</p>
<p>We are using <a href="https://github.com/webpack-contrib/extract-text-webpack-plugin">ExtractTextPlugin</a>, which extracts text from a bundle, or bundles, into a separate file, along with <a href="https://github.com/webpack-contrib/css-loader">css-loader</a></p>
<p>We faced a very weird issue and thus worth mentioning here explicitly. <code class="language-text">ExtractTextPlugin</code> tries to process URL like in background-image, url(), etc. We need to stop that behavior so we need to set <code class="language-text">url:false</code> inside the options like:</p>
<p>{% highlight js %}
options: {
url: false
}
{% endhighlight %}</p>
<p>Few more plugins that we are using are:</p>
<ol>
<li><a href="https://github.com/johnagan/clean-webpack-plugin">CleanWebpackPlugin</a> - to remove/clean the styles folder inside the build folder before building</li>
<li><a href="https://github.com/danethurber/webpack-manifest-plugin">ManifestPlugin</a> - for generating an asset manifest file with a mapping of all source file names to their corresponding output file
This plugin generates a JSON file so that the hash appended(prod build) after a JS file can be later read by another file. Eg. one CSS file is shared among different modules so its hash needs to be stored somewhere to be read later by other modules to update the hash in their corresponding <code class="language-text">index.html</code> files.</li>
<li><a href="https://github.com/kevlened/copy-webpack-plugin">CopyWebpackPlugin</a> - to copy individual files or entire directories to the build directory</li>
<li><a href="https://github.com/webpack-contrib/purifycss-webpack">PurifyCSSPlugin</a> - to remove unused selectors from the CSS. This plugin was a must for us. So, what we were doing in this entire project earlier was to copy-paste the Parent projects CSS file to this independent project. We followed the same approach because of time-constraints but found this amazing plugin which automatically removes the unused CSS from the bundled CSS files based on the paths of files which uses it. We can even whitelist selectors if classes are appended on run-time or for any other reason. But it is highly recommended to use the PurifyCSS plugin with the Extract Text plugin which we discussed above.</li>
<li><a href="https://github.com/NMFR/optimize-css-assets-webpack-plugin">OptimizeCssAssetsPlugin</a> - to optimize/minimize CSS assets</li>
</ol>
<p>This was all about bundling of CSS file.</p>
<h3 id="last-step---automated-scripts-and-provision-to-execute-module-specific-build" style="position:relative;"><a href="#last-step---automated-scripts-and-provision-to-execute-module-specific-build" aria-label="last step   automated scripts and provision to execute module specific build permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Last step - Automated scripts and provision to execute module-specific build</h3>
<p>First, we created a file to read arguments that could be read in our <code class="language-text">webpack.config.js</code> file via a <code class="language-text">package.json</code> script.</p>
<p>{% highlight js %}
// Filename: webpack.env.js</p>
<p>// Webpack doesn't pass Webpack env in env variable when using multiple configs, so writing custom code
let argv = process.argv || [],
// Loop over process arguments and check for --env.mode
envArgv = argv.filter(function (arg) {
return arg.indexOf('--env.mode') > -1;
}),
targetModuleArgv = argv.filter(function (arg) {
return arg.indexOf('--env.module') > -1;
}),
env, targetModules = '';</p>
<p>// If match fould, spilt so that exact value can be extracted like 'build'/'local'
if (envArgv &#x26;&#x26; envArgv.length) {
env = envArgv[0].split('=')[1];
}</p>
<p>if (targetModuleArgv &#x26;&#x26; targetModuleArgv.length) {
targetModules = targetModuleArgv[0].split('=')[1];
}</p>
<p>module.exports = {
env,
targetModules
};
{% endhighlight %}</p>
<p>We tweaked our main <code class="language-text">webpack.config.js</code> to make it module-aware.</p>
<p>{% highlight js %}
// Filename: webpack.config.js</p>
<p>const targetModules = require('./build/webpack.env').targetModules;</p>
<p>function executeWebpackConfig(options) {
return {
devtool: options.devtool === '' ? options.devtool : 'source-map',
entry: options.entry,
output: options.output,
module: options.module,
resolve: options.resolve,
plugins: options.plugins || []
};
}</p>
<p>// Module specific configuration files
let multipleConfigs = [];</p>
<p>if (targetModules) {
let modules = targetModules.split(',');</p>
<p>  for (var i = 0; i &#x3C; modules.length; i++) {
if (modules[i] === 'moduleA') {
multipleConfigs.push(require('./build/moduleA-tasks/webpack.moduleA'));
multipleConfigs.push(require('./build/moduleA-tasks/webpack.moduleA.assets'));
}
if (modules[i] === 'moduleB') {
multipleConfigs.push(require('./build/moduleB-tasks/webpack.moduleB'));
multipleConfigs.push(require('./build/moduleB-tasks/webpack.moduleB.assets'));
}
if (modules[i] === 'moduleC') {
multipleConfigs.push(require('./build/moduleC-tasks/webpack.moduleC'));
}
if (modules[i] === 'moduleD') {
multipleConfigs.push(require('./build/moduleD-tasks/webpack.moduleD'));
multipleConfigs.push(require('./build/moduleD-tasks/webpack.moduleD.assets'));
}
}
} else {
multipleConfigs = [
require('./build/moduleA-tasks/webpack.moduleA-main'),
require('./build/moduleA-tasks/webpack.moduleA.assets'),</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">require(&#39;./build/moduleB-tasks/webpack.moduleB&#39;),
require(&#39;./build/moduleB-tasks/webpack.moduleB.assets&#39;),

require(&#39;./build/moduleC/webpack.moduleC&#39;),

require(&#39;./build/moduleD-tasks/webpack.moduleD&#39;),
require(&#39;./build/moduleD-tasks/webpack.moduleD.assets&#39;)</code></pre></div>
<p>  ];
}</p>
<p>multipleConfigs.map((config) => {
return executeWebpackConfig(config);
});</p>
<p>module.exports = multipleConfigs;
{% endhighlight %}</p>
<p>In our <code class="language-text">package.json</code> file, we created different scripts for running either a development build or production-ready build(minification, cache-busting, and purification) and either to run build for all modules or for just selective modules.</p>
<p>{% highlight js %}
// Filename: package.json</p>
<p>"scripts": {
"install":      "yarn install --ignore-scripts",
"build":        "webpack --optimize-minimize --bail --env.mode=build",</p>
<p>  "dev":          "webpack --progress --colors --watch --env.mode=dev --display-error-details",
"dev-nowatch":  "webpack --progress --colors --env.mode=dev --display-error-details",</p>
<p>  "dev-moduleA":  "webpack --progress --colors --watch --env.mode=dev --env.modules=moduleA",
"dev-moduleB":  "webpack --progress --colors --watch --env.mode=dev --env.modules=moduleB",
"dev-moduleC":  "webpack --progress --colors --watch --env.mode=dev --env.modules=moduleB",</p>
<p>  "dev-moduleAB": "webpack --progress --colors --watch --env.mode=dev --env.modules=moduleA,moduleB",
"dev-moduleBC": "webpack --progress --colors --watch --env.mode=dev --env.modules=moduleB,moduleC",
"dev-moduleAC": "webpack --progress --colors --watch --env.mode=dev --env.modules=moduleA,moduleC",</p>
<p>  "lint":         "eslint 'src/<strong>/*.js'  --cache --config .eslintrc --ignore-path .eslintignore",
"lint-fix":     "eslint 'src/</strong>/*.js' --fix  --cache --config .eslintrc --ignore-path .eslintignore"
}
{% endhighlight %}</p>
<h3 id="upgrading-to-code-classlanguage-textwebpack3code" style="position:relative;"><a href="#upgrading-to-code-classlanguage-textwebpack3code" aria-label="upgrading to code classlanguage textwebpack3code permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading to <code class="language-text">Webpack@3</code></h3>
<p>According to <em>Sean T. Larkin</em> in the <a href="https://medium.com/webpack/webpack-3-official-release-15fd2dd8f07b">release blog post</a>: "webpack 3: Official Release!!", migrating from webpack 2 to 3 should involve no effort beyond running the upgrade commands in your terminal. We are using <code class="language-text">Webpack@3.6.0</code> and <code class="language-text">yarn@1.0.2</code> now :)</p>
<h3 id="last-but-not-the-least---stepping-towards-a-long-journey" style="position:relative;"><a href="#last-but-not-the-least---stepping-towards-a-long-journey" aria-label="last but not the least   stepping towards a long journey permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Last but not the least - Stepping towards a long journey</h3>
<p>This was just the beginning of stepping towards researching different technologies and upgrading our tech stack. We have now gradually started writing <code class="language-text">ES6</code> code for that particular project. The experience was tremendous and the team is now working on evaluating other sections where the change could gradually take a form.</p>
<h3 id="helpful-resources" style="position:relative;"><a href="#helpful-resources" aria-label="helpful resources permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Helpful resources</h3>
<ul>
<li><a href="https://blog.madewithenvy.com/getting-started-with-webpack-2-ed2b86c68783">Getting Started with Webpack 2</a></li>
<li><a href="https://www.codementor.io/drewpowers/high-performance-webpack-config-for-front-end-delivery-90sqic1qa">Configuring webpack for production: High Performance webpack config</a></li>
</ul>
<h3 id="feedback" style="position:relative;"><a href="#feedback" aria-label="feedback permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Feedback</h3>
<p>Should you have any feedback regarding this article, please share your thoughts via comments.</p>
<p>If you like this article, do share it :)</p></div><hr/><div class="post-module--post-meta--1ci95"><div class="SocialLinks-module--social-links--1RDpJ"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--reddit"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--reddit "><g><circle cx="32" cy="32" r="31" fill="#5f99cf"></circle></g><g><path d="m 52.8165,31.942362 c 0,-2.4803 -2.0264,-4.4965 -4.5169,-4.4965 -1.2155,0 -2.3171,0.4862 -3.128,1.2682 -3.077,-2.0247 -7.2403,-3.3133 -11.8507,-3.4782 l 2.5211,-7.9373 6.8272,1.5997 -0.0102,0.0986 c 0,2.0281 1.6575,3.6771 3.6958,3.6771 2.0366,0 3.6924,-1.649 3.6924,-3.6771 0,-2.0281 -1.6575,-3.6788 -3.6924,-3.6788 -1.564,0 -2.8968,0.9758 -3.4357,2.3443 l -7.3593,-1.7255 c -0.3213,-0.0782 -0.6477,0.1071 -0.748,0.4233 L 32,25.212062 c -4.8246,0.0578 -9.1953,1.3566 -12.41,3.4425 -0.8058,-0.7446 -1.8751,-1.2104 -3.0583,-1.2104 -2.4905,0 -4.5152,2.0179 -4.5152,4.4982 0,1.649 0.9061,3.0787 2.2389,3.8607 -0.0884,0.4794 -0.1462,0.9639 -0.1462,1.4569 0,6.6487 8.1736,12.0581 18.2223,12.0581 10.0487,0 18.224,-5.4094 18.224,-12.0581 0,-0.4658 -0.0493,-0.9248 -0.1275,-1.377 1.4144,-0.7599 2.3885,-2.2304 2.3885,-3.9406 z m -29.2808,3.0872 c 0,-1.4756 1.207,-2.6775 2.6894,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 -1.4824,0 -2.6894,-1.2002 -2.6894,-2.6758 z m 15.4037,7.9373 c -1.3549,1.3481 -3.4816,2.0043 -6.5008,2.0043 l -0.0221,-0.0051 -0.0221,0.0051 c -3.0209,0 -5.1476,-0.6562 -6.5008,-2.0043 -0.2465,-0.2448 -0.2465,-0.6443 0,-0.8891 0.2465,-0.2465 0.6477,-0.2465 0.8942,0 1.105,1.0999 2.9393,1.6337 5.6066,1.6337 l 0.0221,0.0051 0.0221,-0.0051 c 2.6673,0 4.5016,-0.5355 5.6066,-1.6354 0.2465,-0.2465 0.6477,-0.2448 0.8942,0 0.2465,0.2465 0.2465,0.6443 0,0.8908 z m -0.3213,-5.2615 c -1.4824,0 -2.6877,-1.2002 -2.6877,-2.6758 0,-1.4756 1.2053,-2.6775 2.6877,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 z" fill="white"></path></g></svg></div><div class="SocialMediaShareCount"><div class="SocialLinks-module--share-count--3wXKp"></div></div></div><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--twitter"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--twitter "><g><circle cx="32" cy="32" r="31" fill="#00aced"></circle></g><g><path d="M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z" fill="white"></path></g></svg></div></div><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--facebook"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--facebook "><g><circle cx="32" cy="32" r="31" fill="#3b5998"></circle></g><g><path d="M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z" fill="white"></path></g></svg></div><div class="SocialMediaShareCount"><div class="SocialLinks-module--share-count--3wXKp"></div></div></div><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--linkedin"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--linkedin "><g><circle cx="32" cy="32" r="31" fill="#007fb1"></circle></g><g><path d="M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z" fill="white"></path></g></svg></div><div class="SocialMediaShareCount"><div class="SocialLinks-module--share-count--3wXKp"></div></div></div><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--telegram"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--telegram "><g><circle cx="32" cy="32" r="31" fill="#37aee2"></circle></g><g><path d="m45.90873,15.44335c-0.6901,-0.0281 -1.37668,0.14048 -1.96142,0.41265c-0.84989,0.32661 -8.63939,3.33986 -16.5237,6.39174c-3.9685,1.53296 -7.93349,3.06593 -10.98537,4.24067c-3.05012,1.1765 -5.34694,2.05098 -5.4681,2.09312c-0.80775,0.28096 -1.89996,0.63566 -2.82712,1.72788c-0.23354,0.27218 -0.46884,0.62161 -0.58825,1.10275c-0.11941,0.48114 -0.06673,1.09222 0.16682,1.5716c0.46533,0.96052 1.25376,1.35737 2.18443,1.71383c3.09051,0.99037 6.28638,1.93508 8.93263,2.8236c0.97632,3.44171 1.91401,6.89571 2.84116,10.34268c0.30554,0.69185 0.97105,0.94823 1.65764,0.95525l-0.00351,0.03512c0,0 0.53908,0.05268 1.06412,-0.07375c0.52679,-0.12292 1.18879,-0.42846 1.79109,-0.99212c0.662,-0.62161 2.45836,-2.38812 3.47683,-3.38552l7.6736,5.66477l0.06146,0.03512c0,0 0.84989,0.59703 2.09312,0.68132c0.62161,0.04214 1.4399,-0.07726 2.14229,-0.59176c0.70766,-0.51626 1.1765,-1.34683 1.396,-2.29506c0.65673,-2.86224 5.00979,-23.57745 5.75257,-27.00686l-0.02107,0.08077c0.51977,-1.93157 0.32837,-3.70159 -0.87096,-4.74991c-0.60054,-0.52152 -1.2924,-0.7498 -1.98425,-0.77965l0,0.00176zm-0.2072,3.29069c0.04741,0.0439 0.0439,0.0439 0.00351,0.04741c-0.01229,-0.00351 0.14048,0.2072 -0.15804,1.32576l-0.01229,0.04214l-0.00878,0.03863c-0.75858,3.50668 -5.15554,24.40802 -5.74203,26.96472c-0.08077,0.34417 -0.11414,0.31959 -0.09482,0.29852c-0.1756,-0.02634 -0.50045,-0.16506 -0.52679,-0.1756l-13.13468,-9.70175c4.4988,-4.33199 9.09945,-8.25307 13.744,-12.43229c0.8218,-0.41265 0.68483,-1.68573 -0.29852,-1.70681c-1.04305,0.24584 -1.92279,0.99564 -2.8798,1.47502c-5.49971,3.2626 -11.11882,6.13186 -16.55882,9.49279c-2.792,-0.97105 -5.57873,-1.77704 -8.15298,-2.57601c2.2336,-0.89555 4.00889,-1.55579 5.75608,-2.23009c3.05188,-1.1765 7.01687,-2.7042 10.98537,-4.24067c7.94051,-3.06944 15.92667,-6.16346 16.62028,-6.43037l0.05619,-0.02283l0.05268,-0.02283c0.19316,-0.0878 0.30378,-0.09658 0.35471,-0.10009c0,0 -0.01756,-0.05795 -0.00351,-0.04566l-0.00176,0zm-20.91715,22.0638l2.16687,1.60145c-0.93418,0.91311 -1.81743,1.77353 -2.45485,2.38812l0.28798,-3.98957" fill="white"></path></g></svg></div></div></div></div></div><nav><ul class="post-module--pagination--1F-V0"><li><a rel="prev" href="/posts/leveraging-kafka-streams-to-reduce-db-hits/">← <!-- -->Leveraging Kafka Streams to reduce DB Hits</a></li><li><a rel="next" href="/posts/the-first-wingify-devfest/">The First Wingify DevFest<!-- -->→</a></li></ul></nav><div id="disqus_thread"></div></main><footer><div class="Footer-module--container--3Dvn1"><div><a href="https://twitter.com/wingify_engg" target="_blank" rel="noopener noreferrer">Twitter</a><a href="https://github.com/wingify" target="_blank" rel="noopener noreferrer">GitHub</a><a href="https://engineering.wingify.com/atom.xml" target="_blank" rel="noopener noreferrer">RSS</a></div><div class="Footer-module--copyright--2uglW">Copyright © Wingify. All rights reserved.</div></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-36431088-2', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/migrating-towards-yarn-webpack/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-2e9de3d453e820061555.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-e385def15e29b6ed02a7.js"],"component---src-pages-404-js":["/component---src-pages-404-js-0c6355b7aa7c186b82f7.js"],"component---src-pages-about-js":["/component---src-pages-about-js-94e87d307d822d34146e.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-8f1d647515267d9174b5.js"],"component---src-pages-index-js":["/component---src-pages-index-js-00bc51841b217a16cffb.js"],"component---src-pages-labs-js":["/component---src-pages-labs-js-f0c81fd897adac009df3.js"],"component---src-templates-post-js":["/component---src-templates-post-js-64b7798af3e4c1e61db7.js"]};/*]]>*/</script><script src="/webpack-runtime-0957571b9c2c963ddd9b.js" async=""></script><script src="/styles-823ae8103e36ae8a7f9f.js" async=""></script><script src="/app-2e9de3d453e820061555.js" async=""></script><script src="/b1ea62611cf241fb890da72ef73a515c02a0750b-89441ba0b45d1db32094.js" async=""></script><script src="/component---src-templates-post-js-64b7798af3e4c1e61db7.js" async=""></script><script src="/29107295-b32bd7b51275495551b1.js" async=""></script><script src="/framework-59a9ef51c55d9b62f7de.js" async=""></script></body></html>