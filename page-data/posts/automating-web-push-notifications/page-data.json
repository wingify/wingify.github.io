{"componentChunkName":"component---src-templates-post-js","path":"/posts/automating-web-push-notifications/","result":{"data":{"markdownRemark":{"html":"<p>There were just two hours left to catch a flight for an exciting opportunity to present at the biggest Selenium conference, SeleniumConf 2016, and we were still waiting for our cab to the airport. Our driver was lost within 350 meters of our <a href=\"https://wingify.com/\">Wingify</a> office, finding his way around the vicinity. Eventually, we boarded the flight at the <em>final call</em>!</p>\n<img src=\"/images/2016/08/pushknot_final_call.png\">\n<p>A cool breeze welcomed us at Bengaluru airport, and the next morning we were at The Chancery Pavillion Hotel with our passes:</p>\n<img style=\"width:280px !important\" src=\"/images/2016/08/badges_humans.jpg\">\n<p>Day 1 was about keynotes, new tools and sponsor stands. HP launches lean UFT, introducing Selenium inbuilt with the tool. There were a lot of talks that explored more areas Selenium could be used in, thereby widening its scope.</p>\n<h3 id=\"d-day-demo-day\" style=\"position:relative;\"><a href=\"#d-day-demo-day\" aria-label=\"d day demo day permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>D day: Demo day</h3>\n<p>There was no hurry to reach the venue today as the streets were all mapped a day before, suits and boots were tied up. It was the day to present, world's first ever open source automation tool for push notifications - <em>PushKnot</em></p>\n<p>Push notifications let users to opt into timely updates from sites they love and allow you to effectively re-engage them with customized, engaging content.\nAs per recent surveys, push notifications are turning out to be better than email notifications.</p>\n<p>Since it's a relatively new technology which is booming, the SDLC flows goes like this specs written, functionality developed, unit tests written, how about testing it end to end?\nDo it manually or automate it like a boss!</p>\n<p><strong>PushKnot</strong> helps you do the latter part well.</p>\n<img src=\"/images/2016/08/pushknot_logo.png\">\n<blockquote>\n<p>\"PushKnot is a specialized open-source proxy tool for modifying, parsing and fetching desktop push notifications.”</p>\n</blockquote>\n<h4 id=\"how-pushknot-works\" style=\"position:relative;\"><a href=\"#how-pushknot-works\" aria-label=\"how pushknot works permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How PushKnot works:</h4>\n<p>It works as a proxy server which intercepts the service-worker registration request’s response. It adds a specific payload and the new modified service-worker is registered with the browser.</p>\n<img src=\"/images/2016/08/pushknot_first_diagram.jpg\">\n<p>This payload has specialized code which intercepts and captures the push notification received. Once it has intercepted the push notifications, it saves the notification data in JSON format in a file, and forwards the notification back to the browser so that it can be seen there.</p>\n<img src=\"/images/2016/08/pushknot_second_diagram.jpg\">\n<p>Once the response is stored in a JSON file it can be easily read and verified.</p>\n<img src=\"/images/2016/08/sample_json.png\">\n<p><strong>Steps:</strong></p>\n<ol>\n<li>The service is available at <a href=\"https://github.com/Ankitagupta2309/pushKnot\">https://github.com/Ankitagupta2309/pushKnot</a></li>\n<li>\n<p>After cloning the repo and running <code class=\"language-text\">npm install</code>, you can start it by running</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">````node start.js —domain=&lt;yourdomain&gt;\n````</code></pre></div>\n</li>\n<li>By default it will run on port 9002, if you want to change it, you can do so by using the flag —port=9003</li>\n<li>\n<p>Set up <strong>https</strong> system proxy to point to 127.0.0.1:9002</p>\n<p> <img src=\"/images/2016/08/setup_proxy_push.png\" alt=\"setup proxy push\"></p>\n</li>\n<li>\n<p>When you are launching your browser you need to set 2 flags:</p>\n<ul>\n<li>Start a chrome browser with <code class=\"language-text\">--ignore-certificate-errors</code> flag</li>\n<li>Set browser preference <code class=\"language-text\">&#39;profile.default_content_setting_values.notifications&#39;: 1</code></li>\n</ul>\n</li>\n</ol>\n<p>{% highlight js %}\nchromeOptions: {\n'args': ['--ignore-certificate-errors'],\nprefs: {\n'profile.default<em>content</em>setting_values.notifications': 1\n}\n}\n{% endhighlight %}</p>\n<p><a href='http:///www.slideshare.net/ankitagupta2309/pushknot' target='_blank'>Slides deck</a> from the talk.</p>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 81.5126050420168%; position: relative; height: 0; overflow: hidden; \" > <div style=\"width: 100%\"> <iframe src=\"//www.slideshare.net/slideshow/embed_code/key/jinpOBbAaNDv54\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" style=\"border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" allowfullscreen> </iframe> </div> </div>\n<p><a href='http://www.slideshare.net/ankitagupta2309/pushknot-demo' target='_blank'>Demo</a> from the talk.</p>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.30252100840336%; position: relative; height: 0; overflow: hidden; \" > <iframe src=\"//www.slideshare.net/slideshow/embed_code/key/LsA1VDNjsPPfR0\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" style=\"border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" allowfullscreen> </iframe> </div>\n<p><a href='https://www.youtube.com/watch?v=Lj9HD-1Pikc' target='_blank'>Video</a> of the talk.</p>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.30252100840336%; position: relative; height: 0; overflow: hidden; \" > <iframe src=\"//www.youtube.com/embed/Lj9HD-1Pikc\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" style=\"border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" allowfullscreen> </iframe> </div>\n<p>It was a great learning experience. Received good feedback on our tool, some of which have already been implemented. Write back to us if you have any feedback or queries.</p>","timeToRead":3,"excerpt":"There were just two hours left to catch a flight for an exciting opportunity to present at the biggest Selenium conference, SeleniumConf…","frontmatter":{"title":"Automating Web Push Notifications @Selenium Conference 2016","author":"Jatin Makhija, Ankita Gupta","authorslug":"jatin_makhija_ankita_gupta"},"fields":{"slug":"/posts/automating-web-push-notifications/","date":"August 03, 2016"}}},"pageContext":{"slug":"/posts/automating-web-push-notifications/","date":"2016-08-03T18:30:00.000Z","nexttitle":"Let's talk Security - Engineering Talkies","nextslug":"/posts/lets-talk-security/","prevtitle":"Secure Your Web Application @JSChannel Conference ’16","prevslug":"/posts/secure-your-web-apps/"}}}